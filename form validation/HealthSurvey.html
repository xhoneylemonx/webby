<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-green-50 via-blue-50 to-white min-h-screen flex items-center justify-center p-4">

  <div class="bg-white/80 backdrop-blur-lg p-8 rounded-3xl shadow-lg w-full max-w-lg border border-green-100 animate-slideUp">
    <h1 class="text-2xl font-bold text-center text-green-700 mb-6"> ‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h1>

    <form id="healthForm" class="space-y-5">
      <!-- ‡∏≠‡∏≤‡∏¢‡∏∏ -->
      <div>
        <label class="block font-semibold text-gray-700 mb-1">‡∏≠‡∏≤‡∏¢‡∏∏</label>
        <input type="number" id="age" class="w-full border border-green-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-400 outline-none" placeholder="‡πÄ‡∏ä‡πà‡∏ô 25">
        <p id="ageError" class="text-red-500 text-sm hidden mt-1">‚ö†Ô∏è ‡∏≠‡∏≤‡∏¢‡∏∏ 15‚Äì60 ‡∏õ‡∏µ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
      </div>

      <!-- ‡πÄ‡∏û‡∏® -->
      <div>
        <label class="block font-semibold text-gray-700 mb-1">‡πÄ‡∏û‡∏®</label>
        <div class="flex space-x-6">
          <label class="flex items-center space-x-2">
            <input type="radio" name="gender" value="‡∏ä‡∏≤‡∏¢" class="text-green-500">
            <span>üßë‡∏ä‡∏≤‡∏¢</span>
          </label>
          <label class="flex items-center space-x-2">
            <input type="radio" name="gender" value="‡∏´‡∏ç‡∏¥‡∏á" class="text-green-500">
            <span>üë©‡∏´‡∏ç‡∏¥‡∏á</span>
          </label>
        </div>
      </div>

      <!-- ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold text-gray-700 mb-1">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label>
          <input type="number" id="weight" class="w-full border border-green-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-400 outline-none">
          <p id="weightError" class="text-red-500 text-sm hidden mt-1">‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0</p>
        </div>
        <div>
          <label class="block font-semibold text-gray-700 mb-1">‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)</label>
          <input type="number" id="height" class="w-full border border-green-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-400 outline-none">
          <p id="heightError" class="text-red-500 text-sm hidden mt-1">‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0</p>
        </div>
      </div>

      <!-- ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß -->
      <div>
        <label class="flex items-center space-x-2">
          <input type="checkbox" id="hasDisease" class="text-green-500">
          <span>‡∏°‡∏µ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</span>
        </label>
        <textarea id="diseaseDetails" class="w-full border border-green-300 rounded-lg px-4 py-2 mt-2 hidden focus:ring-2 focus:ring-green-400 outline-none" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß"></textarea>
        <p id="diseaseError" class="text-red-500 text-sm hidden mt-1">‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</p>
      </div>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á -->
      <button type="submit" class="w-full bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition shadow-md hover:shadow-xl">
        ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      </button>
    </form>
  </div>

  <!-- Modal -->
  <div id="resultModal" class="fixed inset-0 bg-black/50 flex items-center justify-center hidden animate-fadeIn">
    <div class="bg-white rounded-3xl p-6 w-80 text-center shadow-xl animate-zoomIn">
      <h2 class="text-xl font-bold text-green-600 mb-4">üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
      <p id="resultMessage" class="mb-6 text-gray-700"></p>
      <button id="closeModal" class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>

  <style>
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0 }
      to { transform: translateY(0); opacity: 1 }
    }
    @keyframes fadeIn {
      from { opacity: 0 }
      to { opacity: 1 }
    }
    @keyframes zoomIn {
      from { transform: scale(0.85); opacity: 0 }
      to { transform: scale(1); opacity: 1 }
    }
    .animate-slideUp { animation: slideUp 0.5s ease-out; }
    .animate-fadeIn { animation: fadeIn 0.3s ease-in-out; }
    .animate-zoomIn { animation: zoomIn 0.3s ease-in-out; }
  </style>

  <script>
    const healthForm = document.getElementById("healthForm");
    const age = document.getElementById("age");
    const weight = document.getElementById("weight");
    const height = document.getElementById("height");
    const hasDisease = document.getElementById("hasDisease");
    const diseaseDetails = document.getElementById("diseaseDetails");

    const ageError = document.getElementById("ageError");
    const weightError = document.getElementById("weightError");
    const heightError = document.getElementById("heightError");
    const diseaseError = document.getElementById("diseaseError");

    const resultModal = document.getElementById("resultModal");
    const resultMessage = document.getElementById("resultMessage");
    const closeModal = document.getElementById("closeModal");

    hasDisease.addEventListener("change", () => {
      diseaseDetails.classList.toggle("hidden", !hasDisease.checked);
    });

    healthForm.addEventListener("submit", function(e) {
      e.preventDefault();

      // reset error
      [ageError, weightError, heightError, diseaseError].forEach(err => err.classList.add("hidden"));

      let isValid = true;

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏≤‡∏¢‡∏∏
      if (age.value < 15 || age.value > 60) {
        ageError.classList.remove("hidden");
        isValid = false;
      }

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å
      if (weight.value <= 0) {
        weightError.classList.remove("hidden");
        isValid = false;
      }

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á
      if (height.value <= 0) {
        heightError.classList.remove("hidden");
        isValid = false;
      }

      // ‡∏ï‡∏£‡∏ß‡∏à‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß
      if (hasDisease.checked && diseaseDetails.value.trim() === "") {
        diseaseError.classList.remove("hidden");
        isValid = false;
      }

      if (isValid) {
        // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI
        const bmi = (weight.value / Math.pow(height.value / 100, 2)).toFixed(1);
        let category = "";
        if (bmi < 18.5) category = "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢";
        else if (bmi < 25) category = "‡∏õ‡∏Å‡∏ï‡∏¥";
        else if (bmi < 30) category = "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô";
        else category = "‡∏≠‡πâ‡∏ß‡∏ô";

        resultMessage.textContent = `BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ ${bmi} (${category})`;
        resultModal.classList.remove("hidden");
      }
    });

    closeModal.addEventListener("click", () => {
      resultModal.classList.add("hidden");
    });
  </script>

</body>
</html>
